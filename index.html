<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SeeminglyJS Tools</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* 토스트 애니메이션 */
    .toast {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-6">

  <!-- 프로필 카드 -->
  <div class="bg-white shadow-md rounded-2xl p-6 flex flex-col items-center mb-10 w-full max-w-md">
    <img src="https://avatars.githubusercontent.com/u/67782250?v=4" alt="Profile" class="w-24 h-24 rounded-full mb-4 shadow" />
    <h1 class="text-xl font-bold mb-2">훈남 성우님</h1>
    <a href="https://seeminglyjs.tistory.com/" target="_blank" class="text-blue-500 hover:underline">블로그 방문하기</a>
  </div>

  <!-- 기능 영역 -->
  <div class="grid gap-6 w-full max-w-3xl">
    
    <!-- AES256 -->
    <div class="bg-white shadow rounded-2xl p-6 flex flex-col gap-3">
      <h2 class="text-lg font-bold">AES256 암/복호화</h2>
      <input id="aesKey" type="text" placeholder="Key" class="border p-2 rounded" />
      <input id="aesIv" type="text" placeholder="IV" class="border p-2 rounded" />
      <textarea id="aesText" rows="3" placeholder="텍스트 입력" class="border p-2 rounded"></textarea>
      <div class="flex gap-3">
        <button onclick="encryptAES()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">암호화</button>
        <button onclick="decryptAES()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">복호화</button>
      </div>
      <textarea id="aesResult" rows="3" placeholder="결과" readonly class="border p-2 rounded"></textarea>
    </div>

    <!-- IP 확인 -->
    <div class="bg-white shadow rounded-2xl p-6 flex flex-col gap-3">
      <h2 class="text-lg font-bold">내 IP 확인</h2>
      <button onclick="getIP()" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">내 IP 보기</button>
      <div id="ipResult" class="text-gray-700"></div>
    </div>

    <!-- 글자수 카운트 -->
    <div class="bg-white shadow rounded-2xl p-6 flex flex-col gap-3">
      <h2 class="text-lg font-bold">글자수/바이트 카운트</h2>
      <textarea id="countText" rows="3" placeholder="텍스트 입력" class="border p-2 rounded"></textarea>
      <button onclick="countChars()" class="bg-indigo-500 text-white px-4 py-2 rounded hover:bg-indigo-600">계산하기</button>
      <div id="countResult" class="text-gray-700"></div>
    </div>

    <!-- JSON 포매터 -->
    <div class="bg-white shadow rounded-2xl p-6 flex flex-col gap-3">
      <h2 class="text-lg font-bold">JSON 포매터</h2>
      <textarea id="jsonInput" rows="5" placeholder='{"name":"훈남"}' class="border p-2 rounded"></textarea>
      <button onclick="formatJSON()" class="bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600">정렬하기</button>
      <pre id="jsonResult" class="bg-gray-100 p-3 rounded text-sm overflow-x-auto"></pre>
    </div>

    <!-- 타이머 -->
    <div class="bg-white shadow rounded-2xl p-6 flex flex-col gap-3">
      <h2 class="text-lg font-bold">타이머</h2>
      <input id="timerInput" type="number" placeholder="초 단위 입력" class="border p-2 rounded" />
      <button onclick="startTimer()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">시작</button>
      <div id="timerResult" class="text-gray-700"></div>
    </div>

    <!-- Lorem Ipsum -->
    <div class="bg-white shadow rounded-2xl p-6 flex flex-col gap-3">
      <h2 class="text-lg font-bold">입숨 텍스트</h2>
      <button onclick="generateLorem('ko')" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600">한글</button>
      <button onclick="generateLorem('en')" class="bg-teal-500 text-white px-4 py-2 rounded hover:bg-teal-600">영어</button>
      <div id="loremResult" class="text-gray-700"></div>
    </div>

  </div>

  <!-- 토스트 컨테이너 -->
  <div id="toastContainer" class="fixed bottom-5 right-5 space-y-2 z-50"></div>

  <script>
    /* 토스트 함수 */
    function showToast(message, success = true) {
      const toast = document.createElement("div");
      toast.className = `toast px-4 py-2 rounded shadow text-white ${success ? "bg-green-500" : "bg-red-500"}`;
      toast.innerText = message;
      document.getElementById("toastContainer").appendChild(toast);

      setTimeout(() => toast.classList.add("show"), 100); // 애니메이션
      setTimeout(() => {
        toast.classList.remove("show");
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    /* AES256 (예시: 단순 try/catch) */
    function encryptAES() {
      try {
        const key = document.getElementById("aesKey").value;
        if (!key) throw new Error("키 없음");
        document.getElementById("aesResult").value = "암호화된 텍스트";
        showToast("암호화 성공!", true);
      } catch (e) {
        showToast("암호화 실패: " + e.message, false);
      }
    }
    function decryptAES() {
      try {
        document.getElementById("aesResult").value = "복호화된 텍스트";
        showToast("복호화 성공!", true);
      } catch (e) {
        showToast("복호화 실패: " + e.message, false);
      }
    }

    /* IP 가져오기 */
    async function getIP() {
      try {
        const res = await fetch("https://api.ipify.org?format=json");
        const data = await res.json();
        document.getElementById("ipResult").innerText = "내 IP: " + data.ip;
        showToast("IP 확인 성공!", true);
      } catch {
        showToast("IP 가져오기 실패", false);
      }
    }

    /* 글자수 카운트 */
    function countChars() {
      try {
        const text = document.getElementById("countText").value;
        const byteLen = new Blob([text]).size;
        document.getElementById("countResult").innerText = `글자 수: ${text.length}, 바이트: ${byteLen}`;
        showToast("계산 성공!", true);
      } catch {
        showToast("계산 실패", false);
      }
    }

    /* JSON 포매터 */
    function formatJSON() {
      try {
        const input = document.getElementById("jsonInput").value;
        const obj = JSON.parse(input);
        document.getElementById("jsonResult").innerText = JSON.stringify(obj, null, 2);
        showToast("JSON 정렬 성공!", true);
      } catch {
        showToast("JSON 파싱 실패", false);
      }
    }

    /* 타이머 */
    function startTimer() {
      try {
        const sec = parseInt(document.getElementById("timerInput").value);
        if (isNaN(sec) || sec <= 0) throw new Error("시간 입력 오류");
        document.getElementById("timerResult").innerText = sec + "초 타이머 시작!";
        setTimeout(() => {
          alert("타이머 종료!");
          showToast("타이머 완료!", true);
        }, sec * 1000);
        showToast("타이머 시작!", true);
      } catch (e) {
        showToast("타이머 실패: " + e.message, false);
      }
    }

    /* 입숨 생성 */
    function generateLorem(lang) {
      try {
        const loremKo = "이것은 예시 한글 입숨 텍스트입니다.";
        const loremEn = "This is an example of English lorem text.";
        document.getElementById("loremResult").innerText = lang === "ko" ? loremKo : loremEn;
        showToast("입숨 생성 성공!", true);
      } catch {
        showToast("입숨 생성 실패", false);
      }
    }
  </script>
</body>
</html>
