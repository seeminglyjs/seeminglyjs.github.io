<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SeeminglyJS â€” Dev Tools</title>
<meta name="color-scheme" content="dark light" />
<style>
  :root{
    --bg: #0b0d10; --fg:#e7ecf3; --muted:#9aa6b2; --card:#12151a; --brand:#6ea8fe;
    --ok:#2ecc71; --warn:#f39c12; --err:#ff6b6b; --border:#1d232c;
  }
  @media (prefers-color-scheme: light){
    :root{ --bg:#f6f7fb; --fg:#212938; --muted:#5b6472; --card:#ffffff; --brand:#3867d6; --border:#e6e8ef; }
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--fg); font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Apple SD Gothic Neo','Noto Sans KR',sans-serif;
  }
  a{color:var(--brand); text-decoration:none}
  a:hover{text-decoration:underline}
  .container{max-width:1200px; margin:0 auto; padding:24px}
  header{display:flex; gap:16px; align-items:center; margin-bottom:20px; flex-wrap:wrap}
  .avatar{width:60px; height:60px; border-radius:50%; border:2px solid var(--border); object-fit:cover}
  .title{font-size:24px; font-weight:800; letter-spacing:.2px}
  .subtitle{color:var(--muted)}
  .grid{
    display:grid; gap:16px;
    grid-template-columns: repeat(12, 1fr);
  }
  .card{
    grid-column: span 12;
    background:var(--card); border:1px solid var(--border); border-radius:16px;
    padding:16px; box-shadow:0 4px 20px rgba(0,0,0,.15);
  }
  @media(min-width:720px){
    .span-6{grid-column: span 6}
    .span-4{grid-column: span 4}
    .span-8{grid-column: span 8}
    .span-3{grid-column: span 3}
  }
  .card h3{margin:0 0 10px; font-size:18px}
  .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
  .row > *{flex:1 1 auto}
  .controls{display:flex; gap:8px; flex-wrap:wrap; margin: 5px 0px;}
  label{display:block; font-weight:600; margin-top:8px; margin-bottom:4px}
  input[type="text"], input[type="number"], textarea, select, input[type="datetime-local"]{
    width:100%; padding:10px 12px; background:transparent; color:var(--fg); border:1px solid var(--border);
    border-radius:10px; outline:none;
  }
  textarea{min-height:120px; resize:vertical}
  .btn{
    padding:10px 14px; background:var(--brand); color:white; border:none; border-radius:10px; cursor:pointer; font-weight:700;
  }
  .btn.secondary{background:transparent; color:var(--fg); border:1px solid var(--border)}
  .btn.ghost{background:transparent; color:var(--muted)}
  .btn:disabled{opacity:.5; cursor:not-allowed}
  .hint{font-size:12px; color:var(--muted)}
  .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;}
  .pill{display:inline-flex; gap:6px; align-items:center; border:1px solid var(--border); padding:6px 10px; border-radius:999px; color:var(--muted); font-size:12px}
  .status-ok{color:var(--ok)}
  .status-warn{color:var(--warn)}
  .status-err{color:var(--err)}
  .copy{
    border:1px dashed var(--border); padding:8px 10px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; gap:8px;
    background:rgba(127,127,127,.04)
  }
  .small{font-size:12px}
  .spacer{height:6px}
  .kvs{display:grid; grid-template-columns: 140px 1fr; gap:6px; font-size:13px}
  code{background:rgba(127,127,127,.08); padding:2px 6px; border-radius:6px}
  footer{margin-top:20px; color:var(--muted); text-align:center; font-size:12px}
</style>

<!-- CSS ë¶ˆëŸ¬ì˜¤ê¸° -->
<link rel="stylesheet" href="css/component/toast.css">


</head>
<body>
  <div class="container">
    <header>
      <img class="avatar" src="https://avatars.githubusercontent.com/u/67782250?v=4" alt="í”„ë¡œí•„" />
      <div>
        <div class="title">SeeminglyJS â€” Handy Dev Tools</div>
        <div class="subtitle">ìì£¼ ì“°ëŠ” ìœ í‹¸ ëª¨ìŒ (AES-256, IP, ê¸€ìÂ·ë°”ì´íŠ¸, JSON ì •ë ¬, íƒ€ì´ë¨¸, í•œ/ì˜ ì…ìˆ¨)</div>
        <div class="spacer"></div>
        <div class="row">
          <div class="pill">Blog: <a href="https://seeminglyjs.tistory.com" target="_blank" rel="noopener">seeminglyjs.tistory.com</a></div>
          <div class="pill">GitHub Pages: <a href="https://seeminglyjs.github.io" target="_blank" rel="noopener">seeminglyjs.github.io</a></div>
        </div>
      </div>
    </header>

    <div class="grid">
      <!-- Profile Card -->
      <section class="card span-4" id="profile-card">
        <h3>í”„ë¡œí•„ ì¹´ë“œ</h3>
        <div class="kvs">
          <div>ì´ë¦„</div><div class="mono">ì¥ì„±ìš°</div>
          <div>ì—­í• </div><div class="mono">Spring Boot / Flutter / PostgreSQL</div>
          <div>ë¸”ë¡œê·¸</div><div><a href="https://seeminglyjs.tistory.com" target="_blank" rel="noopener">seeminglyjs.tistory.com</a></div>
          <div>GitHub</div><div><a href="https://github.com/seeminglyjs" target="_blank" rel="noopener">@seeminglyjs</a></div>
          
          <div class="mono">-ì¶”ê°€ë§í¬-</div>
          <div>GitHub</div><div><a href="https://github.com/seeminglyjs/domain/maker/note/make-note" target="_blank" rel="noopener">ìŒí‘œ GIF ë§Œë“¤ê¸°</a></div>
        </div>
      </section>

      <!-- AES-256 Tool -->
      <section class="card span-8" id="aes-card">
        <h3>ğŸ”’ AES-256 (CBC) ì•”Â·ë³µí˜¸í™”</h3>
        <div class="hint">í‚¤ 32ë°”ì´íŠ¸(=256ë¹„íŠ¸), IV 16ë°”ì´íŠ¸ í•„ìš”. í¬ë§· ì„ íƒ: <code>hex</code>/<code>base64</code>/<code>utf8</code>. ê²°ê³¼ëŠ” <code>base64</code>ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</div>
        <div class="row">
          <div>
            <label for="aes-key">Key</label>
            <input id="aes-key" class="mono" type="text" placeholder="ì˜ˆ) hex 64ì / base64 / ì¼ë°˜ ë¬¸ìì—´(utf8)" />
          </div>
          <div style="max-width:140px">
            <label for="key-format">Key í¬ë§·</label>
            <select id="key-format">
              <option>hex</option>
              <option>base64</option>
              <option selected>utf8</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div>
            <label for="aes-iv">IV</label>
            <input id="aes-iv" class="mono" type="text" placeholder="ì˜ˆ) hex 32ì / base64 / ì¼ë°˜ ë¬¸ìì—´(utf8)" />
          </div>
          <div style="max-width:140px">
            <label for="iv-format">IV í¬ë§·</label>
            <select id="iv-format">
              <option>hex</option>
              <option>base64</option>
              <option selected>utf8</option>
            </select>
          </div>
        </div>
        <label for="aes-plain">í‰ë¬¸ (ì•”í˜¸í™” ì…ë ¥) / ë³µí˜¸í™” ëŒ€ìƒ(base64)</label>
        <textarea id="aes-plain" class="mono" placeholder="ì•”í˜¸í™”: í‰ë¬¸ ì…ë ¥, ë³µí˜¸í™”: base64 ì•”í˜¸ë¬¸ ì…ë ¥"></textarea>
        <div class="controls">
          <button class="btn" id="btn-encrypt">ì•”í˜¸í™”</button>
          <button class="btn secondary" id="btn-decrypt">ë³µí˜¸í™”</button>
          <button class="btn ghost" id="btn-clear-aes">ì´ˆê¸°í™”</button>
        </div>
        <label>ê²°ê³¼</label>
        <div class="copy">
          <div class="mono small" id="aes-result" style="word-break:break-all"></div>
          <button class="btn" id="copy-aes">ë³µì‚¬</button>
        </div>
        <div class="hint" id="aes-status"></div>
      </section>

      <!-- IP Info -->
      <section class="card span-6" id="ip-card">
        <h3>ğŸŒ ë‚´ IP / ë„¤íŠ¸ì›Œí¬ ì •ë³´</h3>
        <div class="controls">
          <button class="btn" id="btn-ip">IP ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°</button>
        </div>
        <div class="kvs mono" id="ip-info"></div>
        <div class="hint">ipify / ipapië¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €/ë„¤íŠ¸ì›Œí¬ ì •ì±…ì— ë”°ë¼ ì¼ë¶€ í•„ë“œê°€ ë¹„ì–´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
      </section>

      <!-- Text Counter -->
      <section class="card span-6" id="count-card">
        <h3>ğŸ”¢ ê¸€ììˆ˜ / ë°”ì´íŠ¸ ì¹´ìš´í„° (UTF-8)</h3>
        <textarea id="count-text" placeholder="ì—¬ê¸°ì— í…ìŠ¤íŠ¸ ì…ë ¥"></textarea>
        <div class="row">
          <div class="pill">ë¬¸ì ìˆ˜: <span id="char-count">0</span></div>
          <div class="pill">ë°”ì´íŠ¸ ìˆ˜(UTF-8): <span id="byte-count">0</span></div>
        </div>
      </section>

      <!-- JSON Pretty -->
      <section class="card span-6" id="json-card">
        <h3>ğŸ§© JSON í¬ë§¤í„° (ìœ íš¨ì„± ê²€ì‚¬)</h3>
        <textarea id="json-input" class="mono" placeholder='{"foo": "bar", "arr":[3,1,2]}'></textarea>
        <div class="controls">
          <button class="btn" id="btn-json">ì •ë ¬/ì •ê·œí™”</button>
          <button class="btn secondary" id="btn-json-min">ìµœì†Œí™”</button>
          <button class="btn ghost" id="btn-json-clear">ì´ˆê¸°í™”</button>
        </div>
        <label>ê²°ê³¼</label>
        <textarea id="json-output" class="mono" readonly></textarea>
        <div class="hint" id="json-status"></div>
      </section>

      <!-- Timer -->
      <section class="card span-6" id="timer-card">
        <h3>â° íƒ€ì´ë¨¸ / ì•ŒëŒ</h3>
        <div class="row">
          <div>
            <label for="timer-min">ë¶„</label>
            <input id="timer-min" type="number" min="0" step="1" value="0" />
          </div>
          <div>
            <label for="timer-sec">ì´ˆ</label>
            <input id="timer-sec" type="number" min="0" max="59" step="1" value="10" />
          </div>
        </div>
        <div class="controls">
          <button class="btn" id="btn-timer-start">ì‹œì‘</button>
          <button class="btn secondary" id="btn-timer-stop">ì •ì§€</button>
          <span class="pill">ë‚¨ì€ ì‹œê°„: <span id="timer-remaining" class="mono">00:10</span></span>
        </div>
        <div class="hint">ì¢…ë£Œ ì‹œ ë²¨ì†Œë¦¬ + íƒ­ ì œëª© ì ë©¸ + (ê¶Œí•œ í—ˆìš© ì‹œ) ì‹œìŠ¤í…œ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.</div>
      </section>

      <!-- Lorem/Ipsum -->
      <section class="card span-6" id="lipsum-card">
        <h3>ğŸ“ ì…ìˆ¨(ë¬´ì‘ìœ„ ë¬¸ì¥) ìƒì„± â€” í•œê¸€/ì˜ë¬¸</h3>
        <div class="row">
          <div>
            <label for="lipsum-lang">ì–¸ì–´</label>
            <select id="lipsum-lang">
              <option value="ko" selected>í•œêµ­ì–´</option>
              <option value="en">English</option>
            </select>
          </div>
          <div>
            <label for="lipsum-type">í˜•íƒœ</label>
            <select id="lipsum-type">
              <option value="sentences">ë¬¸ì¥</option>
              <option value="paragraphs" selected>ë¬¸ë‹¨</option>
            </select>
          </div>
          <div>
            <label for="lipsum-count">ê°œìˆ˜</label>
            <input id="lipsum-count" type="number" min="1" max="30" value="3" />
          </div>
        </div>
        <div class="controls">
          <button class="btn" id="btn-lipsum">ìƒì„±</button>
          <button class="btn secondary" id="btn-lipsum-copy">ë³µì‚¬</button>
        </div>
        <textarea id="lipsum-output" class="mono" readonly></textarea>
      </section>
    </div>

    <footer>Â© <span id="year"></span> seeminglyjs â€” Built for speed, privacy, and correctness.</footer>
  </div>

<script>
/* ===== Utility: encoders/decoders ===== */
const textEncoder = new TextEncoder();
const textDecoder = new TextDecoder();

/** base64 â‡„ Uint8Array */
const b64 = {
  encode: (buf) => {
    let bin = '';
    const bytes = new Uint8Array(buf);
    const len = bytes.length;
    for (let i=0;i<len;i++) bin += String.fromCharCode(bytes[i]);
    return btoa(bin);
  },
  decode: (s) => {
    const bin = atob(s);
    const out = new Uint8Array(bin.length);
    for (let i=0;i<bin.length;i++) out[i] = bin.charCodeAt(i);
    return out;
  }
};

function hexToBytes(hex){
  const s = hex.trim();
  if(!/^[0-9a-fA-F]+$/.test(s) || s.length % 2 !== 0) throw new Error('ìœ íš¨í•˜ì§€ ì•Šì€ hex');
  const out = new Uint8Array(s.length/2);
  for (let i=0;i<s.length;i+=2) out[i/2] = parseInt(s.slice(i, i+2), 16);
  return out;
}

function parseKeyIv(input, format, expectedLen){
  if(format === 'hex'){
    const bytes = hexToBytes(input);
    if(bytes.length !== expectedLen) throw new Error(`ê¸¸ì´ ì˜¤ë¥˜: ${expectedLen}ë°”ì´íŠ¸ í•„ìš”`);
    return bytes;
  }else if(format === 'base64'){
    const bytes = b64.decode(input);
    if(bytes.length !== expectedLen) throw new Error(`ê¸¸ì´ ì˜¤ë¥˜: ${expectedLen}ë°”ì´íŠ¸ í•„ìš”`);
    return bytes;
  }else{
    // utf8
    const bytes = textEncoder.encode(input);
    if(bytes.length !== expectedLen) throw new Error(`ê¸¸ì´ ì˜¤ë¥˜: ${expectedLen}ë°”ì´íŠ¸ í•„ìš”`);
    return bytes;
  }
}

/* ===== AES-256-CBC Encrypt/Decrypt ===== */
async function aesImportKey(raw32){
  return crypto.subtle.importKey("raw", raw32, {name:"AES-CBC"}, false, ["encrypt","decrypt"]);
}
async function aesEncrypt(plain, keyRaw, ivRaw){
  const key = await aesImportKey(keyRaw);
  const data = textEncoder.encode(plain);
  const ct = await crypto.subtle.encrypt({name:"AES-CBC", iv: ivRaw}, key, data);
  return new Uint8Array(ct);
}
async function aesDecrypt(cipherBase64, keyRaw, ivRaw){
  const key = await aesImportKey(keyRaw);
  const data = b64.decode(cipherBase64);
  const pt = await crypto.subtle.decrypt({name:"AES-CBC", iv: ivRaw}, key, data);
  return textDecoder.decode(pt);
}

/* ===== AES UI ===== */
const el = (id)=>document.getElementById(id);
const aesKey = el('aes-key'), aesIv = el('aes-iv'), keyFmt = el('key-format'), ivFmt = el('iv-format');
const aesPlain = el('aes-plain'), aesResult = el('aes-result'), aesStatus = el('aes-status');

function aesKeyCheck(){
    aesKey.value = aesKey.value.substr(0, 32)
}
aesKey.addEventListener('input', aesKeyCheck);

function aesIvCheck(){
    aesIv.value = aesIv.value.substr(0, 16)
}
aesIv.addEventListener('input', aesIvCheck);

el('btn-encrypt').addEventListener('click', async ()=>{
  aesStatus.textContent = '';
  aesResult.textContent = '';
  try{
    const key = parseKeyIv(aesKey.value, keyFmt.value, 32);
    const iv  = parseKeyIv(aesIv.value,  ivFmt.value, 16);
    const ct = await aesEncrypt(aesPlain.value, key, iv);
    aesResult.textContent = b64.encode(ct);
    aesStatus.innerHTML = `<span class="status-ok">ì•”í˜¸í™” ì™„ë£Œ</span> (ì¶œë ¥: base64)`;
  }catch(e){
    aesStatus.innerHTML = `<span class="status-err">ì˜¤ë¥˜:</span> ${e.message}`;
  }
});

el('btn-decrypt').addEventListener('click', async ()=>{
  aesStatus.textContent = '';
  aesResult.textContent = '';
  try{
    const key = parseKeyIv(aesKey.value, keyFmt.value, 32);
    const iv  = parseKeyIv(aesIv.value,  ivFmt.value, 16);
    const pt = await aesDecrypt(aesPlain.value.trim(), key, iv);
    aesResult.textContent = pt;
    aesStatus.innerHTML = `<span class="status-ok">ë³µí˜¸í™” ì™„ë£Œ</span>`;
  }catch(e){
    aesStatus.innerHTML = `<span class="status-err">ì˜¤ë¥˜:</span> ${e.message}`;
  }
});
el('btn-clear-aes').addEventListener('click', ()=>{
  aesKey.value=''; aesIv.value=''; aesPlain.value=''; aesResult.textContent=''; aesStatus.textContent='';
});
el('copy-aes').addEventListener('click', async ()=>{
  if(!aesResult.textContent) {
        showToast('ì—ëŸ¬ ë°œìƒ', {type:'error'})
        return; 
    }else{
        await navigator.clipboard.writeText(aesResult.textContent);
        showToast('ë³µì‚¬ ì„±ê³µ!', {type:'success'})
//           <button onclick="showToast('ê²½ê³  ë©”ì‹œì§€', {type:'warning'})">Warning</button>
//   <button onclick="showToast('ì•Œë¦¼ì…ë‹ˆë‹¤', {type:'info'})">Info</button>
    }
});

/* ===== IP Info ===== */
const ipInfoBox = el('ip-info');
el('btn-ip').addEventListener('click', async ()=>{
  ipInfoBox.textContent = 'ì¡°íšŒ ì¤‘...';
  try{
    const ipRes = await fetch('https://api64.ipify.org?format=json',{cache:'no-store'});
    const {ip} = await ipRes.json();
    let geo = {};
    try{
      const g = await fetch('https://ipapi.co/json/',{cache:'no-store'});
      geo = await g.json();
    }catch(_){}
    ipInfoBox.innerHTML = `
      <div>IP</div><div>${ip || ''}</div>
      <div>êµ­ê°€/ë„ì‹œ</div><div>${geo.country_name || ''} ${geo.region || ''} ${geo.city || ''}</div>
      <div>ISP</div><div>${geo.org || ''}</div>
      <div>ì‹œê°„ëŒ€</div><div>${geo.timezone || ''}</div>
      <div>ì¢Œí‘œ</div><div>${geo.latitude ?? ''}, ${geo.longitude ?? ''}</div>
    `;
  }catch(e){
    ipInfoBox.innerHTML = `<div class="status-err">ì¡°íšŒ ì‹¤íŒ¨</div><div class="mono small">${e.message}</div>`;
  }
});

/* ===== Text Counter (UTF-8) ===== */
const countText = el('count-text'), charCount = el('char-count'), byteCount = el('byte-count');
function updateCounts(){
  const v = countText.value;
  charCount.textContent = [...v].length; // ìœ ë‹ˆì½”ë“œ ì•ˆì „
  byteCount.textContent = textEncoder.encode(v).length;
}
countText.addEventListener('input', updateCounts);
updateCounts();

/* ===== JSON Pretty ===== */
const jsonInput = el('json-input'), jsonOutput = el('json-output'), jsonStatus = el('json-status');
el('btn-json').addEventListener('click', ()=>{
  jsonStatus.textContent = '';
  jsonOutput.value = '';
  try{
    const obj = JSON.parse(jsonInput.value);
    jsonOutput.value = JSON.stringify(obj, null, 2);
    jsonStatus.innerHTML = `<span class="status-ok">ìœ íš¨í•œ JSON</span> â€” ì •ë ¬ ì™„ë£Œ`;
  }catch(e){
    jsonStatus.innerHTML = `<span class="status-err">ìœ íš¨í•˜ì§€ ì•Šì€ JSON</span> â€” ${e.message}`;
  }
});
el('btn-json-min').addEventListener('click', ()=>{
  jsonStatus.textContent = '';
  jsonOutput.value = '';
  try{
    const obj = JSON.parse(jsonInput.value);
    jsonOutput.value = JSON.stringify(obj);
    jsonStatus.innerHTML = `<span class="status-ok">ìœ íš¨í•œ JSON</span> â€” ìµœì†Œí™” ì™„ë£Œ`;
  }catch(e){
    jsonStatus.innerHTML = `<span class="status-err">ìœ íš¨í•˜ì§€ ì•Šì€ JSON</span> â€” ${e.message}`;
  }
});
el('btn-json-clear').addEventListener('click', ()=>{
  jsonInput.value=''; jsonOutput.value=''; jsonStatus.textContent='';
});

/* ===== Timer ===== */
let timerId = null, blinkId = null, remainingMs = 0;
const timerMin = el('timer-min'), timerSec = el('timer-sec'), rem = el('timer-remaining');
function fmt(ms){
  const s = Math.max(0, Math.floor(ms/1000));
  const m = Math.floor(s/60), r = s%60;
  return `${String(m).padStart(2,'0')}:${String(r).padStart(2,'0')}`;
}
function updateRemaining(){
  rem.textContent = fmt(remainingMs);
}
function stopBlink(){
  if(blinkId){ clearInterval(blinkId); blinkId=null; document.title = document.title.replace(/^â°\s+/,''); }
}
function notify(){
  // Web Notification
  if('Notification' in window){
    if(Notification.permission === 'granted'){
      new Notification('íƒ€ì´ë¨¸ ì¢…ë£Œ', { body:'ì„¤ì •í•œ ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.' });
    }else if(Notification.permission !== 'denied'){
      Notification.requestPermission();
    }
  }
}
function ring(){
  // WebAudio: ì§§ì€ ë²¨ì†Œë¦¬
  const ctx = new (window.AudioContext||window.webkitAudioContext)();
  const o = ctx.createOscillator();
  const g = ctx.createGain();
  o.connect(g); g.connect(ctx.destination);
  o.type = 'sine'; o.frequency.value = 880;
  g.gain.setValueAtTime(0.0001, ctx.currentTime);
  g.gain.exponentialRampToValueAtTime(0.4, ctx.currentTime + 0.02);
  g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 1.0);
  o.start(); o.stop(ctx.currentTime + 1.0);
  notify();
  // íƒ€ì´í‹€ ì ë©¸
  const base = document.title;
  let on=false;
  blinkId = setInterval(()=>{ on=!on; document.title = (on?'â° ':'') + base; }, 600);
  setTimeout(stopBlink, 15000);
}
el('btn-timer-start').addEventListener('click', ()=>{
  const m = Math.max(0, parseInt(timerMin.value||'0',10));
  const s = Math.max(0, Math.min(59, parseInt(timerSec.value||'0',10)));
  remainingMs = (m*60 + s)*1000;
  if(remainingMs<=0) return;
  if(timerId) clearInterval(timerId);
  stopBlink();
  updateRemaining();
  const start = performance.now();
  const end = start + remainingMs;
  timerId = setInterval(()=>{
    const now = performance.now();
    remainingMs = Math.max(0, Math.floor(end - now));
    updateRemaining();
    if(remainingMs<=0){
      clearInterval(timerId); timerId=null;
      ring();
    }
  }, 200);
});
el('btn-timer-stop').addEventListener('click', ()=>{
  if(timerId) clearInterval(timerId);
  timerId = null; remainingMs = 0; updateRemaining(); stopBlink();
});

/* ===== Lipsum ===== */
const KO_WORDS = "ì—¬ë¦„ ë°”ëŒ ìŒì•… ë„ì‹œ ë°”ë‹¤ ê°ì„± ìƒˆë²½ ë¦¬ë“¬ ë“œë¦¬í”„íŠ¸ ì‚°ì±… ì„¤ë ˜ íŒŒë„ í–‡ì‚´ ë…¸ì„ í¸ì§€ ê¸°ì–µ ê·¸ë¦¼ì ê·“ê°€ ë¹„ë°€ í•˜ëª¨ë‹ˆ ì„ ìœ¨ íë¦„ ë³„ë¹› í–¥ê¸° ì˜¨ê¸° ì´ì•¼ê¸° ë¬´ë“œ í•„ë¦„ ìŠ¤ì¼€ì¹˜ íœ´ì‹ ê· í˜• ì‹œì„  í’ê²½ íšŒìƒ".split(' ');
const EN_WORDS = "summer wind music city ocean vibe dawn rhythm drift stroll flutter wave sunlight sunset letter memory shadow whisper secret harmony melody flow starlight scent warmth story mood film sketch rest balance gaze landscape recall".split(' ');
function randomChoice(arr){ return arr[Math.floor(Math.random()*arr.length)] }
function makeSentence(words){
  const len = 6 + Math.floor(Math.random()*8); // 6~13 words
  const w = [];
  for(let i=0;i<len;i++) w.push(randomChoice(words));
  let s = w.join(' ');
  s = s.charAt(0).toUpperCase() + s.slice(1);
  return s + '.';
}
function makeKoreanSentence(){
  const len = 6 + Math.floor(Math.random()*8);
  const w = [];
  for(let i=0;i<len;i++) w.push(randomChoice(KO_WORDS));
  return w.join(' ') + 'ë‹¤.';
}
function generateLipsum(lang, type, count){
  const out = [];
  const maker = lang==='ko'? makeKoreanSentence : ()=>makeSentence(EN_WORDS);
  if(type==='sentences'){
    for(let i=0;i<count;i++) out.push(maker());
    return out.join(' ');
  }else{
    for(let p=0;p<count;p++){
      const sCount = 2 + Math.floor(Math.random()*3); // 2~4 sentences
      const sentences = [];
      for(let i=0;i<sCount;i++) sentences.push(maker());
      out.push(sentences.join(' '));
    }
    return out.join('\n\n');
  }
}
const lipsumOut = el('lipsum-output');
el('btn-lipsum').addEventListener('click', ()=>{
  const lang = el('lipsum-lang').value;
  const type = el('lipsum-type').value;
  const count = Math.max(1, Math.min(30, parseInt(el('lipsum-count').value||'3',10)));
  lipsumOut.value = generateLipsum(lang, type, count);
});
el('btn-lipsum-copy').addEventListener('click', async ()=>{
  if(!lipsumOut.value) return;
  await navigator.clipboard.writeText(lipsumOut.value);
});

/* ===== Footer year ===== */
el('year').textContent = new Date().getFullYear();
</script>

<!-- JS ë¶ˆëŸ¬ì˜¤ê¸° -->
<script src="js/component/toast.js"></script>
</body>
</html>
